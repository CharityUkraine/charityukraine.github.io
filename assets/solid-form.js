/*! For license information please see solid-form.js.LICENSE.txt */
!function(){var e={34:function(e,t,n){"use strict";n(95),n(710);class r{}t.Z=r,r.toSnakeCase=e=>e.replace(/[A-Z]/g,(e=>`_${e.toLowerCase()}`)),r.toCamelCase=e=>e.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace("-","").replace("_","")))},95:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},710:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},121:function(e,t){"use strict";var n;(function(e){e.Apple="apple",e.Google="google"})(n||(n={})),t.Z=n},486:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,{v:function(){return tt}});var o=n(671),a=n(144),s=n(942),u=n(687),c=n.n(u),l=n(121),f=n(136),p=n(930),h=n(120),d=n(407);var y,v=function(e){(0,f.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,h.Z)(t);if(n){var i=(0,h.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,p.Z)(this,e)});function i(e){var t;return(0,o.Z)(this,i),(t=r.call(this,e)).name="SdkError",t}return(0,a.Z)(i)}((0,d.Z)(Error));!function(e){e.Mounted="mounted",e.ProviderToken="_providerToken",e.UpdatePaymentIntent="updateInitPayment",e.FormInitialization="initialization",e.BrowserWindowLocked="solid.message.browserWindowLocked",e.SubmitRequest="solid.message.submitRequest",e.Resize="resize",e.ApplePayPaymentAuthorized="applePay:onpaymentauthorized",e.PerformVerifyResult="solid.message.performVerifyResult"}(y||(y={}));var g,m=y;!function(e){e.Error="error",e.Interaction="interaction"}(g||(g={}));var b,w=g;!function(e){e.Submit="submit",e.Success="success",e.Fail="fail",e.Redirect="formRedirect",e.Verify="verify",e.StartCheckStatus="startCheckStatus",e.Card="card",e.CustomStylesAppended="customStylesAppended",e.PaymentButtonsInit="_paymentButtonsInit",e.PrivateResize="_resize",e.AppleCompletePayment="_appleCompletePayment",e.Tracking="solid.payment.form.private.event.tracking",e.PerformVerifyFlow="solid.private.performVerifyFlow",e.UpdateComplete="solid.private.updateComplete",e.StatusPageShown="solid.payment.form.private.event.statusPageShown",e.ModalStatusShown="solid.private.modalStatusShown",e.OrderStatus="orderStatus"}(b||(b={}));var k,P=b;!function(e){e.Default="default",e.Modal="modal",e.Tab="tab"}(k||(k={}));var O,S=k,x=n(885);!function(e){e.CardNumber="cardNumber",e.CardCvv="cardCvv",e.CardExpiryDate="cardExpiryDate",e.CardHolder="cardHolder",e.Zip="zip",e.Email="email"}(O||(O={}));var C,Z=O;!function(e){e.Input="input",e.Button="button"}(C||(C={}));var j,E=C;!function(e){e.Click="click",e.Focus="focus",e.Blur="blur",e.Change="change"}(j||(j={}));var B=j;function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I,T=function(){function e(t){var n;(0,o.Z)(this,e),(0,s.Z)(this,"state",{fields:(n={},(0,s.Z)(n,Z.CardNumber,{isValid:!1,isTouched:!1}),(0,s.Z)(n,Z.CardCvv,{isValid:!1,isTouched:!1}),(0,s.Z)(n,Z.CardExpiryDate,{isValid:!1,isTouched:!1}),n),isTouched:!1,isValid:!1}),this.messageBus=t}return(0,a.Z)(e,[{key:"processFormMessage",value:function(e){this.state=e.cardForm,this.messageBus.sendPublicMessage(e)}},{key:"processDsrpClick",value:function(e){this.messageBus.sendPublicMessage({type:w.Interaction,target:{type:E.Button,name:e,interaction:B.Click},cardForm:R(R({},this.state),{},{fields:Object.entries(this.state.fields).reduce((function(e,t){var n=(0,x.Z)(t,2),r=n[0],i=n[1];return e[r]=R({},i),e}),{})})})}}]),e}();!function(e){e.ApplePay="applebtn",e.GooglePay="googlebtn",e.Form="form"}(I||(I={}));var A=I;var D,M=function(e){(0,f.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,h.Z)(t);if(n){var i=(0,h.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,p.Z)(this,e)});function i(e){var t;return(0,o.Z)(this,i),(t=r.call(this,e)).name="FormInitializationDtoError",t}return(0,a.Z)(i)}((0,d.Z)(Error));!function(e){e.Default="default",e.React="react",e.Angular="angular",e.Vue="vue"}(D||(D={}));var L,N=D,F=n(2);!function(e){e.FormBody=".form_body",e.TwoColumns=".two-columns",e.CardView=".card_view"}(L||(L={}));var V=L,z="solid-payment-form-iframe",G="payment-buttons",q=["form_body","card_number","expiry_date","card_cvv","card_holder","zip_code","card_cpf","card_dni","card_pin","card_curp","email","submit_button","header","form_title","two-columns","card_view","body_errors","card_brands","secure_info","input_group","additional_field"];function U(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.keys(e),i=0,o=r;i<o.length;i++){var a=o[i],u=e[a],c="object"===(0,F.Z)(u)&&!Array.isArray(u)&&u;if(c){var l=void 0;l=a.includes(":")?"":q.includes(a)?".":" ",U(u,t+"".concat(l).concat(a),n)}else{var f=[":",V.TwoColumns,V.CardView],p=t===V.FormBody,h=t.includes(V.FormBody)&&f.some((function(e){return t.includes(e)})),d=!t.includes(V.FormBody);(h||p||d)&&(n["".concat(t)]?n["".concat(t)][a]=u:n["".concat(t)]=(0,s.Z)({},a,u))}}return n}var H,W=function(e){return e?"string"==typeof e?{}:(t=U(Object.keys(e).filter((function(e){return q.includes(e)})).reduce((function(t,n){return t[n]=e[n],t}),{})),n=JSON.stringify(t),r={card_cpf:"brazil_cpf",card_dni:"argentina_dni",card_curp:"mexico_curp"},Object.keys(r).forEach((function(e){var t=new RegExp(e,"g");n=n.replace(t,r[e])})),JSON.parse(n)):{};var t,n,r};!function(e){e.Default="default",e.Continue="continue"}(H||(H={}));var J=H;function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N.Default,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;(0,o.Z)(this,e),(0,s.Z)(this,"payload",{pageUrl:"",styles:null}),this.initType=t,this.config=n,this.sdkVersion=r,this.logger=i,this.merchantLogger=a,this.addPageUrl(),this.addMerchantStyles(n.styles),this.verifyInitType()}return(0,a.Z)(e,[{key:"validate",value:function(){var e,t=this;if(!this.config)throw new M("Missing required arguments during initialization");null!==(e=this.config.formParams)&&void 0!==e&&e.buttonType&&!Object.values(J).some((function(e){var n;return e===(null===(n=t.config.formParams)||void 0===n?void 0:n.buttonType)}))&&(this.merchantLogger.error(new M("Unsupported formParams.buttonType, switching to default")),this.config.formParams.buttonType=J.Default)}},{key:"toJSON",value:function(){return X({type:m.FormInitialization,originalConfig:this.config},this.payload)}},{key:"toApiCall",value:function(){return X(X({},this.config.merchantData),{},{sdkVersion:this.sdkVersion})}},{key:"isIframeHidden",value:function(){var e;return!1===(null===(e=this.config.formParams)||void 0===e?void 0:e.enabled)}},{key:"styles",get:function(){return this.payload.styles}},{key:"formParams",get:function(){return this.config.formParams}},{key:"iframeParams",get:function(){return this.config.iframeParams}},{key:"googlePayButtonParams",get:function(){return this.config.googlePayButtonParams}},{key:"applePayButtonParams",get:function(){return this.config.applePayButtonParams}},{key:"addMerchantStyles",value:function(e){if(e){var t=W(e);Object.keys(t).length&&(this.payload.styles=t)}}},{key:"addPageUrl",value:function(){var e;try{e=window.self!==window.top}catch(t){e=!0}this.payload.pageUrl=e?this.getPageUrlForIframe():this.getPageUrlForUsualPage()}},{key:"getPageUrlForIframe",value:function(){return document.referrer||this.getPageUrlForUsualPage()}},{key:"getPageUrlForUsualPage",value:function(){return window.location.href}},{key:"verifyInitType",value:function(){var e=this;Object.values(N).some((function(t){return t===e.initType}))||(this.logger.error(new M("Unrecognized init type ".concat(this.initType))),this.initType=N.Default)}}]),e}(),$=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"solid.payment.form.private",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"secret.solid.payment.form.private.key";(0,o.Z)(this,e),(0,s.Z)(this,"cb",null),this.eventName=t,this.key=n,this.cb=null,this.listeners=[],this.eventName=t,this.key=n,this.startListening()}return(0,a.Z)(e,[{key:"destroy",value:function(){this.cb&&(window.removeEventListener("message",this.cb),this.cb=null),this.listeners=[]}},{key:"sendPublicMessage",value:function(e,t){this.sendMessage(e,t)}},{key:"sendPrivateMessage",value:function(e,t){this.sendMessage({type:this.eventName,payload:this.encryptXor(this.key,JSON.stringify(e))},t)}},{key:"subscribeForPrivate",value:function(e){this.subscribe(e)}},{key:"subscribeForPublic",value:function(e){this.subscribe(e)}},{key:"unsubscribe",value:function(e){this.listeners=this.listeners.filter((function(t){return t!==e}))}},{key:"encrypt",value:function(e){return this.encryptXor(this.key,e)}},{key:"decrypt",value:function(e){return this.decryptXor(this.key,e)}},{key:"sendMessage",value:function(e,t){t?t.postMessage(e,"*"):window.parent?window.parent.postMessage(e,"*"):window.top?window.top.postMessage(e,"*"):window.postMessage(e,"*")}},{key:"subscribe",value:function(e){this.listeners.push(e)}},{key:"startListening",value:function(){var e=this;this.cb=function(t){if(t.data.type){var n=t;t.data.type===e.eventName&&(n=JSON.parse(e.decryptXor(e.key,t.data.payload))),e.listeners.forEach((function(e){return e(n)}))}},window.addEventListener("message",this.cb)}},{key:"decryptXor",value:function(e,t){try{for(var n=(t.match(/.{1,2}/g)||[]).map((function(e){return parseInt(e,16)})),r=[],i=0;i<n.length;i++)r.push(this.padStart((n[i]^e.charCodeAt(Math.floor(i%e.length))).toString(16),2,"0"));return decodeURIComponent("%"+(r.join("").match(/.{1,2}/g)||[]).join("%"))}catch(e){return""}}},{key:"encryptXor",value:function(e,t){for(var n=this,r=[],i=(Array.from(t).map((function(e){return e.charCodeAt(0)<128?n.padStart(e.charCodeAt(0).toString(16),2,"0"):encodeURIComponent(e).replace(/%/g,"").toLowerCase()})).join("").match(/.{1,2}/g)||[]).map((function(e){return parseInt(e,16)})),o=0;o<i.length;o++)r.push(i[o]^e.charCodeAt(Math.floor(o%e.length)));return(r=r.map((function(e){return n.padStart(e.toString(16),2,"0")}))).join("")}},{key:"padStart",value:function(e,t,n){return t>>=0,n=String(n||" "),e.length>t?e:((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),n.slice(0,t)+String(e))}}]),e}(),K=n(34);var ee=function(e){(0,f.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,h.Z)(t);if(n){var i=(0,h.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,p.Z)(this,e)});function i(e){var t;return(0,o.Z)(this,i),(t=r.call(this,e)).name="TrackingApiError",t}return(0,a.Z)(i)}((0,d.Z)(Error));function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{times:5,time:2e3,whenOnline:!0};(0,o.Z)(this,e),this.requestInit=t,this.config=n}var t;return(0,a.Z)(e,[{key:"execute",value:function(){return this.doRequest(this.requestInit,this.config)}},{key:"isOnline",value:function(){return!("onLine"in window.navigator)||window.navigator.onLine}},{key:"doRequest",value:(t=i(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.times<0)){e.next=2;break}return e.abrupt("return",Promise.reject());case 2:if(!this.config.whenOnline||this.isOnline()){e.next=4;break}return e.abrupt("return",this.repeatWhenOnline(t,n));case 4:return e.prev=4,e.next=7,fetch(t.url,t);case 7:r=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),r={ok:!1};case 13:if(r.ok){e.next=17;break}return e.abrupt("return",this.repeatWithTimeout(t,n));case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e,n){return t.apply(this,arguments)})},{key:"repeatWithTimeout",value:function(e,t){var n=this;return new Promise((function(r,i){setTimeout((function(){return n.doRequest(e,ne(ne({},t),{},{times:t.times-1,time:2*t.time})).then(r).catch(i)}),Math.min(t.time,t.maxTime||Number.POSITIVE_INFINITY))}))}},{key:"repeatWhenOnline",value:function(e,t){var n=this;return new Promise((function(r,i){window.addEventListener("online",(function(){n.doRequest(e,t).then(r).catch(i)}),{once:!0})}))}}]),e}();function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(){function e(t,n){(0,o.Z)(this,e),(0,s.Z)(this,"queue",[]),this.logger=n,this.config={signature:"",url:t},this.extraData={sessionId:this.makeId(e.IdLength),entityName:"",entityValue:""}}return(0,a.Z)(e,[{key:"keysToSnake",value:function(e){var t=this;if(function(e){return e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e}(e)){var n={};return Object.keys(e).forEach((function(r){n[K.Z.toSnakeCase(r)]=t.keysToSnake(e[r])})),n}return Array.isArray(e)?e.map((function(e){return t.keysToSnake(e)})):e}},{key:"init",value:function(e,t,n){this.config.signature=e,this.extraData.entityValue=t,this.extraData.entityName=n,this.drainQueue()}},{key:"clear",value:function(){this.config.signature="",this.extraData.entityValue="",this.queue=[]}},{key:"send",value:function(e){this.queue.push(oe(oe({},e),{},{event_time:e.event_time||this.getEventISOTime()})),this.drainQueue()}},{key:"getEventISOTime",value:function(){return(new Date).toISOString().slice(0,-1)}},{key:"drainQueue",value:function(){var e=this;if(this.config.signature)for(;this.queue.length;){var t=this.queue.shift();try{var n=this.enrichEvent(t);this.request(n).catch((function(t){t instanceof Error&&e.logger.error(new ee(t.toString()),t)}))}catch(e){e instanceof Error&&this.logger.error(new ee(e.toString()),e)}}}},{key:"makeId",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t}},{key:"enrichEvent",value:function(e){return oe(oe({},e),this.extraData)}},{key:"request",value:function(t){var n=this;return new re({url:this.config.url,method:"POST",headers:{"Content-Type":"application/json",Signature:this.config.signature,"X-Amzn-Trace-Id":"SolidTraceId=".concat(this.makeId(e.IdLength),";SolidSessionId=").concat(this.extraData.sessionId)},body:JSON.stringify(this.keysToSnake(t))}).execute().catch((function(e){e instanceof Error&&n.logger.error(new ee(e.toString()),oe(oe({},e),{},{source:"Unsent analytics"}))}))}}]),e}();(0,s.Z)(ae,"IdLength",32);var se,ue=ae;!function(e){e.CdnUrl="CDN_URL",e.SdkVersion="sdkVersion",e.GoogleButtonColor="googleButtonColor",e.GoogleButtonType="googleButtonType",e.GoogleButtonContainerId="googleButtonContainerId",e.GoogleAllowedAuthMethods="googleAllowedAuthMethods",e.AppleButtonColor="appleButtonColor",e.AppleButtonType="appleButtonType",e.AppleButtonContainerId="appleButtonContainerId"}(se||(se={}));var ce=function(){function e(t,n,r){(0,o.Z)(this,e),this.initializationDto=t,this.cdnResolver=n,this.release=r}var t,n;return(0,a.Z)(e,[{key:"resolve",value:(n=i(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams,e.next=3,this.appendCdnQuery(t);case 3:return this.appendFormConfigQuery(t),this.appendAggregationQuery(t),this.appendMappedQuery(t,this.initializationDto.googlePayButtonParams,{color:se.GoogleButtonColor,type:se.GoogleButtonType,containerId:se.GoogleButtonContainerId,allowedAuthMethods:se.GoogleAllowedAuthMethods}),this.appendMappedQuery(t,this.initializationDto.applePayButtonParams,{color:se.AppleButtonColor,type:se.AppleButtonType,containerId:se.AppleButtonContainerId}),this.appendReleaseQuery(t),e.abrupt("return","?".concat(t.toString()));case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"appendReleaseQuery",value:function(e){e.set(se.SdkVersion,this.release)}},{key:"appendCdnQuery",value:(t=i(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cdnResolver.getCdn();case 2:n=e.sent,t.set(se.CdnUrl,n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"appendFormConfigQuery",value:function(e){var t=this.initializationDto.formParams,n={cardCpfLabel:"brazilCpfLabel",cardDniLabel:"argentinaDniLabel",cardCurpLabel:"mexicoCurp"};t&&Object.keys(t).forEach((function(r){var i=r,o=t[i];void 0!==o&&(Array.isArray(o)?e.set(n[i]||i,o.join(",")):e.set(n[i]||i,o.toString()))}))}},{key:"appendAggregationQuery",value:function(e){this.initializationDto.styles&&e.set("isMerchantStylesProvided","true")}},{key:"appendMappedQuery",value:function(e,t,n){Object.keys(t||{}).reduce((function(r,i){var o=i;return n[o]&&t[o]&&e.set(n[o],t[o].toString()),r}),"")}}]),e}();var le=function(e){(0,f.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,h.Z)(t);if(n){var i=(0,h.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,p.Z)(this,e)});function i(e){var t;return(0,o.Z)(this,i),(t=r.call(this,e)).name="CdnResolverError",t}return(0,a.Z)(i)}((0,d.Z)(Error)),fe=function(){function e(t){var n=this;(0,o.Z)(this,e),(0,s.Z)(this,"cdnList","cdn.solidgate.com,c1.cdn-solidgate.com".split(",")),(0,s.Z)(this,"activeCdn",""),this.tracking=t,this.pendingRequest=this.loadCdn().catch((function(){return n.getFallbackCdn()})),this.pendingRequest.then((function(e){n.activeCdn=e}))}return(0,a.Z)(e,[{key:"getCdn",value:function(){return this.activeCdn?Promise.resolve(this.activeCdn):this.pendingRequest}},{key:"getTimeNow",value:function(){return+new Date}},{key:"loadCdn",value:function(){var e=this;return new Promise((function(t,n){var r=!1,i=0;e.cdnList.forEach((function(o){var a=0,s=function(){(i+=1)>=e.cdnList.length&&!r&&n(new le("Unable to access CDN: ".concat(o)))},u=document.createElement("script");u.src="https://".concat(o,"/check.js"),u.onload=function(){e.tracking.cdnDeliveryTime(o,String(e.getTimeNow()-a)),r||(t(o),r=!0),s()},u.onerror=s,document.head.appendChild(u),a=e.getTimeNow()}))}))}},{key:"getFallbackCdn",value:function(){var e=document.currentScript,t=null==e?void 0:e.src;return t&&(t=t.replace(/(^\w+:|^)\/\//,"")),t||this.cdnList[0]}}]),e}(),pe=n(907),he=n(181);function de(e){return function(e){if(Array.isArray(e))return(0,pe.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,he.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ye=function(){function e(){(0,o.Z)(this,e),(0,s.Z)(this,"isResourcesPreloaded",!1),(0,s.Z)(this,"resources",["https://ui.solidgate.com","https://ui1.solidgate.com","https://ui2.solidgate.com"].concat(de("cdn.solidgate.com,c1.cdn-solidgate.com".split(",").map((function(e){return"https://".concat(e)})))))}return(0,a.Z)(e,[{key:"loadFormResources",value:function(){var e=document.querySelector("head");e&&!this.isResourcesPreloaded&&(this.resources.forEach((function(t){var n=document.createElement("link"),r=document.createElement("link");n.rel="preconnect",n.href=t,r.rel="dns-prefetch",r.href=t,e.appendChild(n),e.appendChild(r)})),this.isResourcesPreloaded=!0)}}]),e}();var ve=function(e){(0,f.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,h.Z)(t);if(n){var i=(0,h.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,p.Z)(this,e)});function i(e){var t;return(0,o.Z)(this,i),(t=r.call(this,e)).name="GooglePayError",t}return(0,a.Z)(i)}((0,d.Z)(Error));function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=function(){function e(t,n,r){var i=this;(0,o.Z)(this,e),(0,s.Z)(this,"paymentsClient",null),(0,s.Z)(this,"baseRequest",{apiVersion:2,apiVersionMinor:0}),(0,s.Z)(this,"tokenizationSpecification",{type:"PAYMENT_GATEWAY",parameters:{gateway:"solid",gatewayMerchantId:""}}),(0,s.Z)(this,"resolveElement",null),(0,s.Z)(this,"elementPromise",new Promise((function(e){i.resolveElement=e}))),this.logger=n,this.callbacks=r;var a=t.amount,u=t.countryCode,c=t.currency,l=t.env,f=t.gatewayMerchantId,p=t.merchantId,h=t.merchantName,d=t.buttonColor,y=t.buttonType,v=t.allowedAuthMethods,g=t.emailRequired;this.totalPrice=String(a),this.countryCode=u,this.currencyCode=c,this.env=l,this.merchantName=h,this.merchantId=p,this.buttonColor=d||"black",this.buttonType=y,this.emailRequired=g,this.baseCardPaymentMethod=e.getBaseCardPaymentMethod(v),this.tokenizationSpecification.parameters.gatewayMerchantId=f}var t,n;return(0,a.Z)(e,[{key:"element",get:function(){return this.elementPromise}},{key:"init",value:function(){var e=this;this.callbacks.beforeMount();var t="google-pay-script-id",n=document.getElementById(t);if(n)n.hasAttribute("loaded")?this.onGooglePayLoaded():n.addEventListener("load",(function(){return e.onGooglePayLoaded()}));else{var r=document.createElement("script");r.id=t,r.type="text/javascript",r.src="https://pay.google.com/gp/p/js/pay.js",r.async=!0,r.defer=!0,r.onload=function(){r.setAttribute("loaded","true"),e.onGooglePayLoaded()},r.onerror=function(t,n,i,o,a){e.logger.error(new ve((a||t).toString()),{source:n,lineno:i,colno:o,googlePayScripLoaded:!1}),r.remove()};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i);var o=document.createElement("style");o.innerHTML="\n        button.gpay-card-info-container {\n          min-width: 160px\n        }\n      ",document.getElementsByTagName("head")[0].appendChild(o)}}},{key:"updateAmount",value:function(e){this.totalPrice=String(e||1)}},{key:"updateCurrency",value:function(e){this.currencyCode=e}},{key:"onGooglePayLoaded",value:(n=i(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(google){e.next=3;break}return this.logger.error(new ve("unable to load GooglePay")),e.abrupt("return");case 3:return t=this.getGooglePaymentsClient(),e.prev=4,e.next=7,t.isReadyToPay(this.getGoogleIsReadyToPayRequest());case 7:e.sent.result&&(this.addGooglePayButton(),this.prefetchGooglePaymentData()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),e.t0 instanceof Error&&this.logger.error(new ve(e.t0.toString()),e.t0);case 14:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(){return n.apply(this,arguments)})},{key:"getGooglePaymentsClient",value:function(){return null===this.paymentsClient&&(this.paymentsClient=new google.payments.api.PaymentsClient({environment:this.env})),this.paymentsClient}},{key:"getGoogleIsReadyToPayRequest",value:function(){return me(me({},this.baseRequest),{},{allowedPaymentMethods:[this.baseCardPaymentMethod]})}},{key:"addGooglePayButton",value:function(){var e=this.getGooglePaymentsClient();this.resolveElement&&this.resolveElement(e.createButton({onClick:this.onGooglePaymentButtonClicked.bind(this),buttonColor:this.buttonColor,buttonType:this.buttonType,buttonSizeMode:"fill"})),this.callbacks.mounted()}},{key:"onGooglePaymentButtonClicked",value:(t=i(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.getGooglePaymentDataRequest()).transactionInfo=this.getGoogleTransactionInfo(),n=this.getGooglePaymentsClient(),e.prev=3,this.callbacks.pageOpened(),e.next=7,n.loadPaymentData(t);case 7:r=e.sent,this.processPayment(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.callbacks.pageClosed();case 14:case"end":return e.stop()}}),e,this,[[3,11]])}))),function(){return t.apply(this,arguments)})},{key:"getGoogleTransactionInfo",value:function(){return{countryCode:this.countryCode,currencyCode:this.currencyCode,totalPriceStatus:e.TotalPriceStatus.final,totalPriceLabel:"Total",totalPrice:this.totalPrice}}},{key:"getGooglePaymentDataRequest",value:function(){return me(me({},this.baseRequest),{},{emailRequired:this.emailRequired,allowedPaymentMethods:[me(me({},this.baseCardPaymentMethod),{},{tokenizationSpecification:this.tokenizationSpecification})],transactionInfo:this.getGoogleTransactionInfo(),merchantInfo:{merchantName:this.merchantName,merchantId:this.merchantId}})}},{key:"prefetchGooglePaymentData",value:function(){var t=this.getGooglePaymentDataRequest();t.transactionInfo={totalPrice:"",totalPriceStatus:e.TotalPriceStatus.unknown,currencyCode:"USD"},this.getGooglePaymentsClient().prefetchPaymentData(t)}},{key:"processPayment",value:function(e){this.callbacks.pay(JSON.stringify(me(me({},JSON.parse(e.paymentMethodData.tokenizationData.token)),{},{email:e.email})))}}],[{key:"getBaseCardPaymentMethod",value:function(e){return{type:"CARD",parameters:{allowedAuthMethods:e||["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["AMEX","DISCOVER","INTERAC","JCB","MASTERCARD","VISA"]}}}}]),e}();function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,s.Z)(be,"TotalPriceStatus",{unknown:"NOT_CURRENTLY_KNOWN",final:"FINAL"});var Pe=function(){function e(t,n){var r=this;(0,o.Z)(this,e),(0,s.Z)(this,"session",null),(0,s.Z)(this,"resolveElement",null),(0,s.Z)(this,"elementPromise",new Promise((function(e){r.resolveElement=e}))),this.callbacks=n;var i=t.amount,a=t.countryCode,u=t.currency,c=t.createSessionUrl,l=t.buttonColor,f=t.buttonType,p=t.merchantName,h=t.supportedNetworks,d=t.requiredShippingContactFields;this.merchantName=p||"",this.totalPrice=i,this.countryCode=a,this.currencyCode=u,this.buttonColor=l||"default",this.buttonType=f||"default",this.createSessionUrl=c,this.supportedNetworks=h||["visa","masterCard","amex","discover","interac","jcb"],this.merchantCapabilities=["supports3DS"],this.requiredShippingContactFields=d}var t,n;return(0,a.Z)(e,[{key:"element",get:function(){return this.elementPromise}},{key:"init",value:function(){this.callbacks.beforeMount();var e="apple-pay-style-id",t=".apple-pay-button-".concat(this.buttonColor," {\n      background-image: -webkit-named-image(apple-pay-logo-black);\n      background-color: white;\n      border: .5px solid black;\n    }"),n=".apple-pay-button-".concat(this.buttonColor," {\n      background-image: -webkit-named-image(apple-pay-logo-").concat("white"===this.buttonColor?"black":"white",");\n      background-color: ").concat(this.buttonColor,";\n    }"),r="\n    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}\n    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}\n    \n    @supports (-webkit-appearance: -apple-pay-button) {\n      .apple-pay-button {\n        cursor: pointer;\n        height: inherit;\n        border-radius: 4px;\n        -webkit-appearance: -apple-pay-button;\n        -apple-pay-button-type: ".concat(this.buttonType,";\n      }\n      .apple-pay-button-").concat(this.buttonColor," {\n        -apple-pay-button-style: ").concat(this.buttonColor,";\n      }\n    }\n    @supports not (-webkit-appearance: -apple-pay-button) {\n      .apple-pay-button {\n        border-radius: 4px;\n        cursor: pointer;\n        background-size: 100% 60%;\n        background-repeat: no-repeat;\n        background-position: 50% 50%;\n        padding: 0;\n        box-sizing: border-box;\n        max-height: 640px;\n      }\n      ").concat("white-outline"===this.buttonColor?t:n,"\n    }\n  "),i=document.getElementById(e);i&&i.remove();var o=document.createElement("style");o.id=e,o.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(o);var a=document.createElement("div");a.id="apple-pay",a.className="apple-pay-button apple-pay-button-".concat(this.buttonColor),a.onclick=this.onApplePayClick.bind(this),this.resolveElement&&this.resolveElement(a),this.callbacks.mounted()}},{key:"completePayment",value:function(e){var t;if(e)try{var n;null===(n=this.session)||void 0===n||n.completePayment(ApplePaySession.STATUS_SUCCESS)}catch(e){}else null===(t=this.session)||void 0===t||t.completePayment(ApplePaySession.STATUS_FAILURE)}},{key:"updateAmount",value:function(e){this.totalPrice=String(e||1)}},{key:"updateCurrency",value:function(e){this.currencyCode=e}},{key:"onValidateMerchant",value:(n=i(c().mark((function e(t){var n,r,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(this.createSessionUrl,{method:"POST",body:JSON.stringify({validationUrl:t.validationURL})});case 3:return r=e.sent,e.next=6,r.json();case 6:(n=e.sent)&&(null===(i=this.session)||void 0===i||i.completeMerchantValidation(n)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),null===(o=this.session)||void 0===o||o.abort();case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e){return n.apply(this,arguments)})},{key:"onPaymentAuthorized",value:(t=i(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.payment.token?this.callbacks.pay(ke(ke({},t.payment.token),{},{shippingContact:t.payment.shippingContact})):null===(n=this.session)||void 0===n||n.completePayment(ApplePaySession.STATUS_FAILURE);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"onApplePayClick",value:function(){var e=this.totalPrice,t={countryCode:this.countryCode,currencyCode:this.currencyCode,supportedNetworks:this.supportedNetworks,merchantCapabilities:this.merchantCapabilities,requiredShippingContactFields:this.requiredShippingContactFields,total:{label:this.merchantName||"Solidgate",amount:e}};this.callbacks.click(),this.session=new ApplePaySession(3,t),this.session.begin(),this.session.onvalidatemerchant=this.onValidateMerchant.bind(this),this.session.onpaymentauthorized=this.onPaymentAuthorized.bind(this)}}],[{key:"isPossibleToMakePayments",value:function(){var e;return!!window.ApplePaySession&&(null===(e=ApplePaySession)||void 0===e?void 0:e.canMakePayments())}}]),e}();function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=window.innerWidth<=500,Ce={position:"relative",backgroundColor:"white",height:xe?"100%":"600px",width:xe?"100%":"500px",maxWidth:"100vw",maxHeight:"100vv",borderRadius:xe?"0px":"12px"},Ze={display:"none",transition:"opacity 0.2s ease-in",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:"2147483647",height:"100vh",width:"100vw",position:"fixed",opacity:"0",top:"0",left:"0",backgroundColor:"rgba(0, 0, 0, 0.8)"},je=Se(Se({},Ce),{},{height:"auto",width:"auto",minHeight:"168px",minWidth:"368px"}),Ee={paddingTop:"24px",paddingBottom:"8px",margin:"0 auto",width:"48px"},Be={position:"absolute",top:"16px",right:"16px",cursor:"pointer"},_e={fontFamily:"Arial",fontStyle:"normal",fontWeight:"400",fontSize:"14px",lineHeight:"24px",textAlign:"center",maxWidth:"264px",boxSizing:"border-box",padding:"0 24px 40px",margin:"0 auto",color:"#000000"},Re={height:"100%",width:"100%",borderRadius:"inherit",border:"none"},Ie=function(){function e(){(0,o.Z)(this,e),(0,s.Z)(this,"iframe",null),(0,s.Z)(this,"modal",this.createThreeDSModal())}return(0,a.Z)(e,[{key:"open",value:function(e){var t=this,n=e.url,r=e.onSuccess;this.iframe&&(this.iframe.src=n),r(),this.modal.style.display="flex",setTimeout((function(){t.modal.style.opacity="1"}),40)}},{key:"close",value:function(){var e=this;this.modal&&(setTimeout((function(){e.modal.style.opacity="0"}),40),setTimeout((function(){var t;return null===(t=document)||void 0===t?void 0:t.body.removeChild(e.modal)}),300))}},{key:"createThreeDSModal",value:function(){var e=this.create3DSIframe(),t=document.createElement("div");Object.assign(t.style,Ce),t.appendChild(e);var n=document.createElement("div");return n.appendChild(t),Object.assign(n.style,Ze),document.body.appendChild(n),n}},{key:"create3DSIframe",value:function(){var e=document.createElement("iframe");return e.setAttribute("test-id","solidgate-iframe-modal-test-id"),Object.assign(e.style,Re),this.iframe=e,e}}]),e}(),Te=function(){function e(t){var n=this;(0,o.Z)(this,e),(0,s.Z)(this,"messageBox",null),(0,s.Z)(this,"modal",this.createThreeDSModal()),(0,s.Z)(this,"close",(function(){n.modal&&(setTimeout((function(){n.modal.style.opacity="0"}),40),setTimeout((function(){var e;return null===(e=document)||void 0===e?void 0:e.body.removeChild(n.modal)}),300))})),this.message=t}var t;return(0,a.Z)(e,[{key:"open",value:(t=i(c().mark((function e(t){var n,r,i,o=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.onSuccess,i=t.onFail,e.next=3,this.openNewTab(n);case 3:if(e.sent){e.next=7;break}return i(),e.abrupt("return");case 7:this.messageBox&&(this.messageBox.innerText=this.message||""),r(),this.modal.style.display="flex",setTimeout((function(){o.modal.style.opacity="1"}),40);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"openNewTab",value:function(e){var t=window.open(e,"_blank");return Promise.resolve(!(null==t||!t.opener))}},{key:"createThreeDSModal",value:function(){var e=this.createIcon(),t=this.createMessageBox(),n=this.createCross();this.messageBox=t;var r=document.createElement("div");Object.assign(r.style,je);var i=document.createElement("div");return Object.assign(i.style,Ze),r.appendChild(e),r.appendChild(t),r.appendChild(n),i.appendChild(r),document.body.appendChild(i),i}},{key:"createIcon",value:function(){var t=document.createElement("div");return Object.assign(t.style,Ee),t.innerHTML=e.iconSvg,t}},{key:"createCross",value:function(){var t=this,n=document.createElement("div");return Object.assign(n.style,Be),n.innerHTML=e.crossSvg,n.addEventListener("click",(function(){return t.close()})),n}},{key:"createMessageBox",value:function(){var t=document.createElement("div");return Object.assign(t.style,_e),t.innerHTML=e.iconSvg,t}}]),e}();(0,s.Z)(Te,"iconSvg",'\n    <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <rect x="15" y="7" width="30" height="22" rx="2" stroke="#2771FF" stroke-width="2"/>\n      <path opacity="0.4" d="M14 18H5C3.34315 18 2 19.3431 2 21V39C2 40.6569 3.34315 42 5 42H31C32.6569 42 34 40.6569 34 39V30H32V39C32 39.5523 31.5523 40 31 40H5C4.44772 40 4 39.5523 4 39V21C4 20.4477 4.44772 20 5 20H14V18Z" fill="#2771FF"/>\n    </svg>\n  '),(0,s.Z)(Te,"crossSvg",'\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9394 12L4.46973 5.53033L5.53039 4.46967L12.0001 10.9393L18.4697 4.46967L19.5304 5.53033L13.0607 12L19.5304 18.4697L18.4697 19.5303L12.0001 13.0607L5.53039 19.5303L4.46973 18.4697L10.9394 12Z" fill="#BEBEBE"/>\n    </svg>\n  ');var Ae=function(e){(0,f.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,h.Z)(t);if(n){var i=(0,h.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,p.Z)(this,e)});function i(e){var t;return(0,o.Z)(this,i),(t=r.call(this,e)).name="SdkApiError",t}return(0,a.Z)(i)}((0,d.Z)(Error)),De=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(0,o.Z)(this,e),this.logger=t,this.urls=n,this.mockInitResponse=r}var t;return(0,a.Z)(e,[{key:"init",value:(t=i(c().mark((function e(t){var n,r,i,o,a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.merchant,r=t.signature,i=t.paymentIntent,o=t.version,a=t.sdkVersion,e.prev=1,!this.mockInitResponse){e.next=4;break}return e.abrupt("return",Promise.resolve(JSON.parse(this.mockInitResponse)));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),this.logger.debug(e.t0);case 9:return e.prev=9,e.next=12,fetch(this.urls.init,{method:"POST",headers:{Merchant:n,Signature:r},body:JSON.stringify({payment_intent:i,version:o||"v1",sdk_version:a})});case 12:return s=e.sent,e.abrupt("return",s.json());case 16:throw e.prev=16,e.t1=e.catch(9),new Ae("Failed to init payment");case 19:case"end":return e.stop()}}),e,this,[[1,6],[9,16]])}))),function(e){return t.apply(this,arguments)})}]),e}();var Me=function(e){(0,f.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,h.Z)(t);if(n){var i=(0,h.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,p.Z)(this,e)});function i(e){var t;return(0,o.Z)(this,i),(t=r.call(this,e)).name="IframeError",t}return(0,a.Z)(i,null,[{key:"DoesNotExist",value:function(e){return new i("Container for payment form with id: ".concat(e," does not exist"))}}]),i}((0,d.Z)(Error));function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe=function(){function e(t,n,r,i){(0,o.Z)(this,e),this.isHidden=t,this.merchantLogger=r,this.config=i;var a=document.getElementById(this.containerId);a?(this.element=document.createElement("iframe"),this.element.id=z,this.element.name=z,this.element.allow="payment",Object.assign(this.element.style,this.applyVisibility({opacity:"0",position:"absolute",transition:"all 100ms"})),this.element.setAttribute("src",n),a.appendChild(this.element)):this.merchantLogger.error(Me.DoesNotExist(this.containerId))}return(0,a.Z)(e,[{key:"width",get:function(){var e;return(null===(e=this.element)||void 0===e?void 0:e.width)||""}},{key:"height",get:function(){var e;return(null===(e=this.element)||void 0===e?void 0:e.height)||""}},{key:"containerId",get:function(){var e;return(null===(e=this.config)||void 0===e?void 0:e.containerId)||"solid-payment-form-container"}},{key:"resize",value:function(e){var t,n=e.height,r=e.width;this.element&&(this.element.height="".concat(n,"px"),this.element.width=this.config&&null!==(t=this.config)&&void 0!==t&&t.width?this.config.width:"".concat(r,"px"))}},{key:"setReadyToShow",value:function(){this.element&&Object.assign(this.element.style,this.applyVisibility({opacity:"1",position:"relative"}))}},{key:"show",value:function(){this.isHidden=!1,this.element&&(this.element.style.height="")}},{key:"getWindow",value:function(){return window.frames[z]}},{key:"onLoad",value:function(e){this.element&&(this.element.onload=e)}},{key:"onError",value:function(e){this.element&&(this.element.onerror=e)}},{key:"destroy",value:function(){var e;null===(e=this.element)||void 0===e||e.remove()}},{key:"applyVisibility",value:function(e){return this.isHidden?Ne(Ne({},e),{},{height:"0px"}):e}}]),e}(),Ve={opacity:0,position:"absolute",zIndex:"-99999999"},ze={opacity:1,position:"static",zIndex:"initial"};var Ge=function(e){(0,f.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,h.Z)(t);if(n){var i=(0,h.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,p.Z)(this,e)});function i(e){var t;return(0,o.Z)(this,i),(t=r.call(this,e)).name="PaymentButtonsViewError",t}return(0,a.Z)(i)}((0,d.Z)(Error));function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ue,He=function(){function e(t,n,r){(0,o.Z)(this,e),(0,s.Z)(this,"isShown",!1),(0,s.Z)(this,"buttons",[]),this.iframe=t,this.logger=n,this.merchantLogger=r}var t;return(0,a.Z)(e,[{key:"canAppend",value:function(e){return null!=e&&e.containerId&&!document.getElementById(e.containerId)&&this.merchantLogger.warning(new Ge("Container for payment button with id: ".concat(e.containerId," does not exist"))),!(null!=e&&e.hasOwnProperty("enabled")&&(null==e||!e.enabled))}},{key:"append",value:(t=i(c().mark((function e(t,n){var r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.init(),e.next=3,t.element;case 3:i=e.sent,this.buttons.push([n,t]),null===(r=this.getContainer(n))||void 0===r||r.appendChild(i);case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"clear",value:function(){var e,t=this;this.buttons.forEach((function(e){var n=(0,x.Z)(e,1)[0],r=t.getCustomContainer(n);r&&(r.innerHTML="")})),null===(e=this.getDefaultContainer())||void 0===e||e.remove()}},{key:"show",value:function(){this.isShown=!0,this.getAllContainers().forEach((function(e){Object.assign(e.style,ze)}))}},{key:"resize",value:function(){var e=this.getDefaultContainer();e&&(e.style.width=this.iframe.width)}},{key:"setIsDisabled",value:function(e){this.getAllContainers().forEach((function(t){var n;return null==t||null===(n=t.querySelectorAll("button"))||void 0===n?void 0:n.forEach((function(t){t.disabled=e}))}))}},{key:"getAllContainers",value:function(){var e=this,t=this.buttons.reduce((function(t,n){var r=(0,x.Z)(n,1)[0],i=e.getContainer(r);return i&&t.push(i),t}),[]),n=this.getDefaultContainer();return[].concat(de(t),de(n?[n]:[]))}},{key:"getContainer",value:function(e){return this.getCustomContainer(e)||this.getOrCreateDefaultContainer()}},{key:"getCustomContainer",value:function(e){if(null!=e&&e.containerId)return document.getElementById(e.containerId)}},{key:"getOrCreateDefaultContainer",value:function(){var e=this.getDefaultContainer()||this.createDefaultContainer(),t=document.getElementById(this.iframe.containerId);if(t){if(e)return t.prepend(e),e;this.logger.error(new Ge("Container does not exist"))}else this.merchantLogger.error(Me.DoesNotExist(this.iframe.containerId))}},{key:"getDefaultContainer",value:function(){return document.getElementById(G)}},{key:"createDefaultContainer",value:function(){var e=document.createElement("div");return e.id=G,e.className="".concat(G),Object.assign(e.style,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:this.iframe.width,padding:"0",marginBottom:"0.5em",display:"grid",gap:"0.5em",height:"3.3em",boxSizing:"border-box",gridTemplateColumns:"repeat(auto-fit, minmax(50px, 1fr))"},this.isShown?ze:Ve)),e}}]),e}(),We=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"error",value:function(e,t){console.error(e,t)}},{key:"warning",value:function(e,t){console.warn(e,t)}},{key:"debug",value:function(e){console.debug(e)}}]),e}();!function(e){e.Loading="form_loading",e.Filling="form_filling",e.Submit="form_submit",e.Form3d="form_3D",e.Errors="form_errors",e.After="form_after"}(Ue||(Ue={}));var Je,Qe=Ue;!function(e){e.Events="form_events"}(Je||(Je={}));var Xe=Je;function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var $e=function(){function e(t){(0,o.Z)(this,e),this.api=t}return(0,a.Z)(e,[{key:"init",value:function(e,t){this.api.init(e,t,"track_id")}},{key:"fromForm",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);delete t.type,this.api.send(t)}},{key:"clear",value:function(){this.api.clear()}},{key:"appleButtonRequested",value:function(){this.api.send({event:"applebtn_requested",category:Xe.Events,level:Qe.Loading})}},{key:"appleButtonMounted",value:function(){this.api.send({event:"applebtn_mounted",category:Xe.Events,level:Qe.Loading})}},{key:"googleButtonRequested",value:function(){this.api.send({event:"googlebtn_requested",category:Xe.Events,level:Qe.Loading})}},{key:"googleButtonMounted",value:function(){this.api.send({event:"googlebtn_mounted",category:Xe.Events,level:Qe.Loading})}},{key:"googleButtonPageOpened",value:function(){this.api.send({event:"googlebtn_page_opened",category:Xe.Events,level:Qe.Filling})}},{key:"googleButtonPageClosed",value:function(){this.api.send({event:"googlebtn_page_closed",category:Xe.Events,level:Qe.Filling})}},{key:"googleButtonPageSubmitted",value:function(){this.api.send({event:"googlebtn_page_submitted",category:Xe.Events,level:Qe.Submit})}},{key:"initPaymentStarted",value:function(){this.api.send({event:"form_v2_init_payment_started",level:Qe.Loading,context:"000000",category:Xe.Events})}},{key:"initPaymentEnded",value:function(){this.api.send({event:"form_v2_init_payment_ended",level:Qe.Loading,context:"000000",category:Xe.Events})}},{key:"updateIntentStarted",value:function(){this.api.send({event:"form_v2_intent_update",level:Qe.Loading,category:Xe.Events})}},{key:"updateIntentError",value:function(){this.api.send({event:"form_v2_intent_update_error",level:Qe.Loading,category:Xe.Events})}},{key:"updateIntentSuccess",value:function(){this.api.send({event:"form_v2_intent_update_ok",level:Qe.Loading,category:Xe.Events})}},{key:"cdnDeliveryTime",value:function(e,t){this.api.send({event:"form_v2_cdn_delivery_time",category:Xe.Events,level:Qe.Loading,context:e,value:t})}},{key:"customStylesAppended",value:function(){this.api.send({event:"form_v2_merchant_styles",level:Qe.Loading,context:"000000",category:Xe.Events})}},{key:"initFeatures",value:function(e){var t={iframeParams:e.iframeParams,formParams:e.formParams,applePayButtonParams:e.applePayButtonParams,googlePayButtonParams:e.googlePayButtonParams};this.api.send({event:"form_v2_init_features",category:Xe.Events,level:Qe.Loading,context:e.initType,value:JSON.stringify(t)})}},{key:"eventSubscription",value:function(e){this.api.send({event:"form_v2_event_subscription",category:Xe.Events,level:Qe.Filling,context:"",value:e})}}]),e}();var Ke=function(e){(0,f.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,h.Z)(t);if(n){var i=(0,h.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,p.Z)(this,e)});function i(e){var t;return(0,o.Z)(this,i),(t=r.call(this,e)).name="EventListenersError",t}return(0,a.Z)(i)}((0,d.Z)(Error)),et=function(){function e(t){(0,o.Z)(this,e),(0,s.Z)(this,"listeners",{}),(0,s.Z)(this,"allowedEventNames",[m.Mounted,w.Error,P.Success,P.Fail,P.StartCheckStatus,P.AppleCompletePayment,P.PaymentButtonsInit,P.PrivateResize,m.Resize,P.OrderStatus,P.Redirect,P.Submit,P.Card,P.Verify,w.Interaction,P.CustomStylesAppended]),(0,s.Z)(this,"suspendedEventNames",[P.StartCheckStatus,P.AppleCompletePayment,P.PaymentButtonsInit,P.PrivateResize]),this.logger=t}return(0,a.Z)(e,[{key:"on",value:function(e,t){if(this.isValidSubscriberArguments(e,t)){var n=function(n){n.data.type===e&&t(n)};this.unsubscribe(e),this.listeners[e]=n,window.addEventListener("message",n)}}},{key:"unsubscribe",value:function(e){window.removeEventListener("message",this.listeners[e]),delete this.listeners[e]}},{key:"unsubscribeAll",value:function(){var e=this;Object.keys(this.listeners).forEach((function(t){window.removeEventListener("message",e.listeners[t]),delete e.listeners[t]}))}},{key:"isValidEventName",value:function(e){return this.allowedEventNames.includes(e)||this.logger.error(new Ke("Event ".concat(e," does not exist"))),this.suspendedEventNames.includes(e)&&this.logger.warning(new Ke("Event ".concat(e," designed for private use only and might be changed any time. Please, dont rely on it."))),!0}},{key:"isValidSubscriberArguments",value:function(e,t){return"function"!=typeof t?(this.logger.error(new Ke("Subscriber for event ".concat(e," is not a function"))),!1):this.isValidEventName(e)}}]),e}();document.addEventListener("DOMContentLoaded",(function(){(new ye).loadFormResources()}));var tt=function(){function e(t){(0,o.Z)(this,e),(0,s.Z)(this,"merchantLogger",new We),(0,s.Z)(this,"messageBus",new $),(0,s.Z)(this,"data",{}),(0,s.Z)(this,"mounted",!1),(0,s.Z)(this,"initialized",!1),(0,s.Z)(this,"currentInitialization",Promise.resolve()),(0,s.Z)(this,"threeDSFlow",null),(0,s.Z)(this,"_appleButton",null),(0,s.Z)(this,"_googleButton",null),(0,s.Z)(this,"iframe",null),(0,s.Z)(this,"paymentButtonsView",null),(0,s.Z)(this,"interactionsNotifier",null),(0,s.Z)(this,"updateAttempt",{}),this.logger=t,this.processPublicMessage=this.processPublicMessage.bind(this),this.processPrivateMessage=this.processPrivateMessage.bind(this),this.messageBus.subscribeForPublic(this.processPublicMessage),this.messageBus.subscribeForPrivate(this.processPrivateMessage),this.api=new De(this.logger,{init:"".concat("https://ui.solidgate.com","/init-payment")},""),this.tracking=new $e(new ue("https://track-ext.solidgate.com/",this.logger)),this.cdnResolver=new fe(this.tracking),this.eventListeners=new et(this.merchantLogger)}var t,n;return(0,a.Z)(e,[{key:"init",value:function(e){var t=this;return this.currentInitialization=this.currentInitialization.then((function(){return new Promise(function(){var n=i(c().mark((function n(r){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.doInit(e);case 2:r();case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})),this.currentInitialization}},{key:"update",value:(n=i(c().mark((function e(t){var n,r,i,o,a,s=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.partialIntent,o=t.signature,this.tracking.updateIntentStarted(),a=null,this.data||(a=new v("Missing required arguments during initialization")),Object.keys(this.updateAttempt).length&&(a=new v("Update already in progress")),i&&o||(a=new v("Missing required intent or signature")),!a){e.next=9;break}throw this.tracking.updateIntentError(),a;case 9:return this.messageBus.sendPrivateMessage({type:m.UpdatePaymentIntent,partialIntent:i,signature:o},null===(n=this.iframe)||void 0===n?void 0:n.getWindow()),null===(r=this.paymentButtonsView)||void 0===r||r.clear(),e.abrupt("return",new Promise((function(e,t){s.updateAttempt.resolve=function(){s.tracking.updateIntentSuccess(),s.updateAttempt={},e()},s.updateAttempt.reject=function(e){s.tracking.updateIntentError(),s.updateAttempt={},t(e)}})));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"on",value:function(){var e;(e=this.eventListeners).on.apply(e,arguments),this.tracking.eventSubscription(arguments.length<=0?void 0:arguments[0])}},{key:"unsubscribe",value:function(){var e;this.eventListeners.isValidEventName(arguments.length<=0?void 0:arguments[0])&&(e=this.eventListeners).unsubscribe.apply(e,arguments)}},{key:"unsubscribeAll",value:function(){this.eventListeners.unsubscribeAll()}},{key:"submit",value:function(){var e;this.messageBus.sendPrivateMessage({type:m.SubmitRequest},null===(e=this.iframe)||void 0===e?void 0:e.getWindow())}},{key:"destroyAll",value:function(){this.unsubscribeAll(),this.destroyFormDependencies()}},{key:"destroyFormDependencies",value:function(){var e,t;this.mounted=!1,null===(e=this.iframe)||void 0===e||e.destroy(),null===(t=this.paymentButtonsView)||void 0===t||t.clear(),this.tracking.clear()}},{key:"appendGoogleButton",value:function(e){var t,n,r=this;null!==(t=this.paymentButtonsView)&&void 0!==t&&t.canAppend(this.data.googlePayButtonParams)&&e&&(this._googleButton=new be(e,this.logger,{beforeMount:function(){return r.tracking.googleButtonRequested()},mounted:function(){r.tracking.googleButtonMounted(),r.onMounted({type:m.Mounted,entity:A.GooglePay})},pageOpened:function(){var e;null===(e=r.interactionsNotifier)||void 0===e||e.processDsrpClick("googlePay"),r.tracking.googleButtonPageOpened()},pageClosed:function(){return r.tracking.googleButtonPageClosed()},pay:function(e){var t;r.tracking.googleButtonPageSubmitted(),r.messageBus.sendPrivateMessage({type:m.ProviderToken,value:e,dsrp:l.Z.Google},null===(t=r.iframe)||void 0===t?void 0:t.getWindow())}}),null===(n=this.paymentButtonsView)||void 0===n||n.append(this._googleButton,this.data.googlePayButtonParams))}},{key:"appendAppleButton",value:function(e){var t,n,r=this;null!==(t=this.paymentButtonsView)&&void 0!==t&&t.canAppend(this.data.applePayButtonParams)&&e&&Pe.isPossibleToMakePayments()&&(this._appleButton=new Pe(e,{beforeMount:function(){return r.tracking.appleButtonRequested()},mounted:function(){r.messageBus.sendPublicMessage({type:m.Mounted,entity:A.ApplePay}),r.tracking.appleButtonMounted()},click:function(){var e;return null===(e=r.interactionsNotifier)||void 0===e?void 0:e.processDsrpClick("applePay")},pay:function(e){var t;r.messageBus.sendPrivateMessage({type:m.ProviderToken,value:JSON.stringify(e),dsrp:l.Z.Apple},null===(t=r.iframe)||void 0===t?void 0:t.getWindow()),r.messageBus.sendPublicMessage({type:m.ApplePayPaymentAuthorized,paymentMethod:e.paymentMethod})}}),null===(n=this.paymentButtonsView)||void 0===n||n.append(this._appleButton,this.data.applePayButtonParams))}},{key:"choose3DSFlowScenario",value:function(e,t,n){var r=this;e===S.Modal?this.threeDSFlow=new Ie:e===S.Tab?this.threeDSFlow=new Te(n||""):this.logger.error(new Error("Unsupported verify open flow"),{url:t}),this.threeDSFlow&&this.threeDSFlow.open({url:t,onFail:function(){var t;return r.messageBus.sendPrivateMessage({type:m.PerformVerifyResult,verifyType:e,isSuccess:!1},null===(t=r.iframe)||void 0===t?void 0:t.getWindow())},onSuccess:function(){var t;return r.messageBus.sendPrivateMessage({type:m.PerformVerifyResult,verifyType:e,isSuccess:!0},null===(t=r.iframe)||void 0===t?void 0:t.getWindow())}})}},{key:"appendPaymentButtons",value:function(e){var t;null===(t=this.paymentButtonsView)||void 0===t||t.clear();var n=JSON.parse(e),r=n.google,i=n.apple;this.appendGoogleButton(r),this.appendAppleButton(i)}},{key:"processFormMessage",value:function(e){var t,n,r,i,o,a,s;try{if(!e.data||!e.data.type)return;switch(e.data.type){case P.Fail:null===(t=this.threeDSFlow)||void 0===t||t.close();break;case P.Success:null===(n=this.threeDSFlow)||void 0===n||n.close();break;case P.PrivateResize:if(window.location.origin&&e.origin!==window.location.origin){var u,c=this.onResize(e.data),l=c.width,f=c.height;null!==(u=this.iframe)&&void 0!==u&&u.isHidden||this.messageBus.sendPublicMessage({type:m.Resize,width:l,height:f})}break;case P.PaymentButtonsInit:this.appendPaymentButtons(e.data.info);break;case P.Redirect:null===(r=this.paymentButtonsView)||void 0===r||r.clear(),null===(i=this.iframe)||void 0===i||i.show();break;case P.StartCheckStatus:null===(o=this.paymentButtonsView)||void 0===o||o.setIsDisabled(e.data.value);break;case P.CustomStylesAppended:null===(a=this.iframe)||void 0===a||a.setReadyToShow(),this.tracking.customStylesAppended();break;case P.AppleCompletePayment:null===(s=this._appleButton)||void 0===s||s.completePayment(e.data.success)}}catch(e){e instanceof Error&&this.logger.error(new v(e.toString()),e)}}},{key:"processPublicMessage",value:function(e){try{if(!e.data||!e.data.type)return;this.processFormMessage(e)}catch(e){e instanceof Error&&this.logger.error(new v(e.toString()),e)}}},{key:"processPrivateMessage",value:function(e){var t,n,r,i,o;try{switch(e.type){case w.Interaction:null===(t=this.interactionsNotifier)||void 0===t||t.processFormMessage(e);break;case P.ModalStatusShown:null===(n=this.threeDSFlow)||void 0===n||n.close();break;case P.Tracking:this.tracking.fromForm(e);break;case P.StatusPageShown:null===(r=this.paymentButtonsView)||void 0===r||r.clear(),null===(i=this.iframe)||void 0===i||i.show();break;case P.PerformVerifyFlow:this.choose3DSFlowScenario(e.verifyType,e.url,e.message);break;case P.UpdateComplete:e.error&&this.updateAttempt.reject?this.updateAttempt.reject(e.error):null!==(o=this.updateAttempt)&&void 0!==o&&o.resolve?this.updateAttempt.resolve():this.logger.error(new v("Attempting process non-existing update"))}}catch(e){e instanceof Error&&this.logger.error(new v(e.toString()),e)}}},{key:"doInit",value:(t=i(c().mark((function e(t){var n,r,i,o,a,s,u=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.initialized?this.destroyFormDependencies():this.initialized=!0,(n=new Y(window.__SOLIDGATE_PRIVATE__SDK_INIT_TYPE,t,"v2.42.0",this.logger,this.merchantLogger)).validate(),this.tracking.initFeatures(n),this.data=t,e.prev=5,this.tracking.initPaymentStarted(),e.next=9,this.api.init(n.toApiCall());case 9:if(r=e.sent,this.tracking.initPaymentEnded(),r.track&&this.tracking.init(r.track.signature,r.track.id),!r.error){e.next=14;break}throw r.error;case 14:return r.warnings&&r.warnings.forEach((function(e){return u.merchantLogger.warning(new v(e))})),i=new ce(n,this.cdnResolver,"v2.42.0"),e.next=18,i.resolve();case 18:o=e.sent,a=r.url,s=new Fe(n.isIframeHidden(),"".concat(a).concat(o),this.merchantLogger,n.iframeParams),this.iframe=s,this.paymentButtonsView=new He(s,this.logger,this.merchantLogger),this.interactionsNotifier=new T(this.messageBus),this.iframe.onLoad((function(){u.messageBus.sendPrivateMessage(n.toJSON(),s.getWindow()),n.styles||s.setReadyToShow(),u.mounted||(u.onMounted({type:m.Mounted,entity:A.Form}),u.mounted=!0)})),this.iframe.onError((function(){return u.logger.error(new v("Failed to load iframe ".concat(a)))})),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(5),e.t0 instanceof Error&&this.logger.error(new v(e.t0.toString()),e.t0),this.messageBus.sendPublicMessage({type:w.Error,value:e.t0});case 32:case"end":return e.stop()}}),e,this,[[5,28]])}))),function(e){return t.apply(this,arguments)})},{key:"onMounted",value:function(e){var t;this.messageBus.sendPublicMessage(e),null===(t=this.paymentButtonsView)||void 0===t||t.show()}},{key:"onResize",value:function(e){var t,n,r,i,o;null===(t=this.iframe)||void 0===t||t.resize(e),null===(n=this.paymentButtonsView)||void 0===n||n.resize();var a=parseInt(e.height.toString()||(null===(r=this.iframe)||void 0===r?void 0:r.height)||"0");return{width:parseInt((null===(i=e.width)||void 0===i?void 0:i.toString())||(null===(o=this.iframe)||void 0===o?void 0:o.width)||"0"),height:a}}}]),e}()},547:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r,i=n(671),o=n(144),a=function(){function e(t){(0,i.Z)(this,e),r=t}return(0,o.Z)(e,[{key:"init",value:function(e){return r.init(e)}},{key:"destroy",value:function(){return r.destroyAll()}},{key:"update",value:function(e){return r.update(e)}},{key:"on",value:function(e,t){r.on(e,t)}},{key:"unsubscribe",value:function(e){r.unsubscribe(e)}},{key:"unsubscribeAll",value:function(){r.unsubscribeAll()}},{key:"submit",value:function(){r.submit()}}]),e}()},61:function(e,t,n){var r=n(698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,o=Object.create(i.prototype),s=new j(r||[]);return a(o,"_invoke",{value:S(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var d={};function y(){}function v(){}function g(){}var m={};f(m,u,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(E([])));w&&w!==n&&o.call(w,u)&&(m=w);var k=g.prototype=y.prototype=Object.create(m);function P(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function Z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function E(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:B}}function B(){return{value:void 0,done:!0}}return v.prototype=g,a(k,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:v,configurable:!0}),v.displayName=f(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,f(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},P(O.prototype),f(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new O(p(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(k),f(k,l,"Generator"),f(k,u,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=E,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Z),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),Z(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;Z(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},687:function(e,t,n){var r=n(61)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},144:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(611);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},930:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2);function i(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}},611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===(0,r.Z)(t)?t:String(t)}},2:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},407:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(120),i=n(611);function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function a(e,t,n){return a=o()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&(0,i.Z)(o,n.prototype),o},a.apply(null,arguments)}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return a(e,arguments,(0,r.Z)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(o,e)},s(e)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=n(144),t=n(671),r=n(136),i=n(930),o=n(120);var a=function(n){(0,r.Z)(c,n);var a,s,u=(a=c,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,o.Z)(a);if(s){var n=(0,o.Z)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,i.Z)(this,e)});function c(e){var n;return(0,t.Z)(this,c),(n=u.call(this,e)).name="BootstrapError",n}return(0,e.Z)(c)}((0,n(407).Z)(Error)),s=n(885),u=n(942);function c(e){var t=function(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map((function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}})).reverse()}(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p="?",h=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,d=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,y=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,v=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,g=/\((\S*)(?::(\d+))(?::(\d+))\)/,m=/Minified React error #\d+;/i;function b(e){var t=null,n=0;e&&("number"==typeof e.framesToPop?n=e.framesToPop:m.test(e.message)&&(n=1));try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=e.stacktrace.split("\n"),o=[],a=0;a<i.length;a+=2){var s=null;(t=n.exec(i[a]))?s={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=r.exec(i[a]))&&(s={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),s&&(!s.func&&s.line&&(s.func=p),o.push(s))}return o.length?{message:k(e),name:e.name,stack:o}:null}(e),t)return w(t,n)}catch(e){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,r,i=[],o=e.stack.split("\n"),a=0;a<o.length;++a){if(n=h.exec(o[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=g.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]);var u=n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],c=n[1]||p,l=-1!==c.indexOf("safari-extension"),f=-1!==c.indexOf("safari-web-extension");(l||f)&&(c=-1!==c.indexOf("@")?c.split("@")[0]:p,u=l?"safari-extension:".concat(u):"safari-web-extension:".concat(u)),r={url:u,func:c,args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=y.exec(o[a]))r={url:n[2],func:n[1]||p,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=d.exec(o[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=v.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==a||n[5]||void 0===e.columnNumber||(i[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||p,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=p),i.push(r)}return i.length?{message:k(e),name:e.name,stack:i}:null}(e),t)return w(t,n)}catch(e){}return{message:k(e),name:e&&e.name,stack:[],failed:!0}}function w(e,t){try{return f(f({},e),{},{stack:e.stack.slice(t)})}catch(t){return e}}function k(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}var P=function(){function n(e,r,i){(0,t.Z)(this,n),(0,u.Z)(this,"url",""),this.releaseVersion=r,this.environment=i,this.init(e)}return(0,e.Z)(n,[{key:"warning",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.log(e,t,"warning")}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.log(e,t,"error")}},{key:"debug",value:function(e){console.error(e)}},{key:"log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.request({event_id:n.makeId(),platform:"javascript",release:this.releaseVersion,exception:{values:[c(b(e))]},environment:this.environment,server_name:window.location.href,level:r,extra:t})}},{key:"init",value:function(e){if(e){var t=n.DsnRegex.exec(e).slice(1),r=(0,s.Z)(t,6),i=r[0],o=r[1],a=r[3],u="",c=r[5],l=c.split("/");if(l.length>1&&(u=l.slice(0,-1).join("/"),c=l.pop()),c){var f=c.match(/^\d+/);f&&(c=f[0])}this.url="".concat(i,"://").concat(a).concat(u,"/api/").concat(c,"/store/?sentry_version=7&sentry_key=").concat(o)}}},{key:"request",value:function(e){if(this.url){var t=new XMLHttpRequest;t.open("post",this.url,!0),t.send(JSON.stringify(e))}}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},{key:"makeId",value:function(){return this.uuidv4().split("").filter((function(e){return"-"!==e})).join("")}}]),n}();(0,u.Z)(P,"DsnRegex",/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/);var O=new P("https://7d1591252f7d490882fa9b8c89dec997@sentry.solidgate-dev.com/21","v2.42.0",""),S=null,x=null,C=null;!function(){if(window.PaymentFormSdk){var e=new a("Solid PaymentFormSdk already inited");return O.warning(e),void console.warn(e)}try{S=n(486).v,x=n(547).Z}catch(e){O.error(e)}if(!S||!x)throw new a("Unable to initialize PaymentFormSDK");try{C=new x(new S(O),O)}catch(e){O.error(e)}window.PaymentFormSdk={init:function(e){return C.init(e),C},destroy:function(){C.destroy()}}}()}()}();
//# 